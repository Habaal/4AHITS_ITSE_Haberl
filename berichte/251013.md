# Ping Cheat Sheet

## Grundbefehl

```bash
ping <ziel>
```

Testet Erreichbarkeit & Antwortzeit.

## Linux/macOS Optionen

* `-c <anzahl>` → Anzahl Pakete
* `-i <sek>` → Intervall
* `-s <bytes>` → Paketgröße
* `-q` → Nur Zusammenfassung

## Windows Optionen

* `-n <anzahl>` → Anzahl Pakete
* `-t` → Endlos-Ping
* `-l <bytes>` → Paketgröße


Ping arbeitet mit ICMP, insbesondere mit Echo Request und Echo Reply

## Ping experimente: 
###ping auf 1.1.1.1: 
```
┌──(kali㉿kali)-[~/Desktop]
└─$ ping 1.1.1.1
PING 1.1.1.1 (1.1.1.1) 56(84) bytes of data.
64 bytes from 1.1.1.1: icmp_seq=1 ttl=56 time=15.2 ms
64 bytes from 1.1.1.1: icmp_seq=2 ttl=56 time=11.2 ms
64 bytes from 1.1.1.1: icmp_seq=3 ttl=56 time=6.34 ms
64 bytes from 1.1.1.1: icmp_seq=4 ttl=56 time=7.27 ms
^C
--- 1.1.1.1 ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3312ms
rtt min/avg/max/mdev = 6.335/10.012/15.238/3.528 ms
```

### ping auf localhost: 
```┌──(kali㉿kali)-[~/Desktop]
└─$ ping localhost
PING localhost (::1) 56 data bytes
64 bytes from localhost (::1): icmp_seq=1 ttl=64 time=0.016 ms
64 bytes from localhost (::1): icmp_seq=2 ttl=64 time=0.017 ms
64 bytes from localhost (::1): icmp_seq=3 ttl=64 time=0.017 ms
^C
--- localhost ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2205ms
rtt min/avg/max/mdev = 0.016/0.016/0.017/0.000 ms
```

ping auf Gateway: 
```┌──(kali㉿kali)-[~/Desktop]
└─$ ping 192.168.5.254
PING 192.168.5.254 (192.168.5.254) 56(84) bytes of data.
64 bytes from 192.168.5.254: icmp_seq=1 ttl=255 time=0.462 ms
64 bytes from 192.168.5.254: icmp_seq=2 ttl=255 time=1.51 ms
64 bytes from 192.168.5.254: icmp_seq=3 ttl=255 time=0.592 ms
^C
--- 192.168.5.254 ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2199ms
rtt min/avg/max/mdev = 0.462/0.855/1.512/0.467 ms
```

## Shell Script zum Pingen im Netzwerk (Netzwerkscan mit ping)

```sh
#!/usr/bin/env bash

set -u

NET="${1:-192.168}"

for j in {0..255}; do
  for i in {1..254}; do
    ip="$NET.$j.$i"
    {
      if ping -c 1 "$ip" > /dev/null 2>&1; then
        printf '%s\n' "$ip"
      fi
    } &
  done
done

wait

```

## Host Discovery mit nmap

**Zweck:** In der Host-Discovery-Phase (Ping Scan / Ping Sweep) ermittelt `nmap` welche Hosts in einem Subnetz aktiv ("up") sind — ohne Ports zu scannen.

### Grundbefehl

```bash
sudo nmap -sn 192.168.5.0/24
```

* `-sn` (früher `-sP`) führt **nur** die Host-Discovery durch.
* `sudo` wird empfohlen, weil nmap dann ARP-Scans und andere privilegierte Probes verwenden kann (zuverlässiger im LAN).


### Was nmap intern macht

* Auf einem lokalen Ethernet verwendet nmap bevorzugt **ARP-Probes** (antwortet ein Gerät, gilt als erreichbar).
* Auf anderen Netztypen oder ohne Root kombiniert nmap ICMP-, TCP- und UDP-Probes.

### Hinweise / Risiken

* **Fehlalarme:** Manche Geräte antworten nicht auf ICMP/TCP-Probes (Firewall) → sie erscheinen als "down", können aber erreichbar sein.
* **Berechtigung:** Scanne nur Netze, für die du Erlaubnis hast.
* **Praktisch:** Für Labor-/LAN-Umgebungen ist `sudo nmap -sn <netz>` die schnellste und zuverlässigste Methode, um aktive Hosts zu protokollieren.

## NMap Script

```sh
#!/usr/bin/env bash
NET="${1:-192.168}"

for j in {0..255}; do
  sudo nmap -sn "${NET}.$j.0/24" -oG - 2>/dev/null \
    | awk '/Status: Up/ {print $2}'
done
```


