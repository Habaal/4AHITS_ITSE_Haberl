Klasse: 4 AHITS
Name: Martin Haberl
Fach: ITSE4 - Übungen
Datum: 03.11.2025

# Portscan — Arbeitsbericht

## Ziel

Ziel dieser Übung ist, mit einfachen Tools (telnet, nc, curl) festzustellen, ob auf bestimmten Ports Dienste laufen, um welche Dienste es sich handelt und — wenn möglich — Versionsinformationen (Banner) zu sammeln.

## Testumgebung

* Kali-VM (Angreifer / Tester)
* Metasploitable-VM (Ziel)
* Beide VMs befinden sich im selben Netzwerk (z. B. Host-only oder NAT Network).
* Ziel-IP (Metasploitable): `192.168.5.51` (wie in der Aufgabenstellung angegeben)

---

## 1) SSH-Server mit telnet prüfen

**Befehl:**

```sh
telnet 192.168.5.51 22
```

**Erklärung:**
telnet baut eine rohe TCP-Verbindung zum Zielport auf. Viele Dienste (auch SSH) senden beim Verbindungsaufbau ein kleines Banner, das die Dienstbezeichnung und oft die Version enthält.

**Erhaltene Ausgabe (bei mir):**

```sh
──(kali㉿kali)-[~]
└─$ telnet 192.168.5.51 22
Trying 192.168.5.51...
Connected to 192.168.5.51.
Escape character is '^]'.
SSH-2.0-OpenSSH_10.0p2 Debian-8
^C
Connection closed by foreign host.
```

**Interpretation:**

* Verbindung erfolgreich -> Port 22 ist offen.
* Banner `SSH-2.0-OpenSSH_10.0p2 Debian-8` zeigt: Dienst **OpenSSH**, Version **10.0p2 (Debian)**.

---

## 2) Webserver (HTTP) — Version auf drei Arten herausfinden

Zielport für HTTP: **80**

### a) Mit telnet

**Befehl:**

```sh
telnet 192.168.5.51 80
```

Nach erfolgreicher Verbindung folgenden HTTP-Request eingeben (leerzeile am Ende nicht vergessen):

```
GET / HTTP/1.0
Host: 192.168.5.51

```

**Ausgabe:**

```sh
┌──(kali㉿kali)-[~]
└─$ telnet 192.168.5.51 80                                          
Trying 192.168.5.51...
Connected to 192.168.5.51.
Escape character is '^]'.
GET / HTTP/1.0
Host: 192.168.5.51

HTTP/1.1 200 OK
Date: Mon, 03 Nov 2025 11:38:05 GMT
Server: Apache/2.2.8 (Ubuntu) DAV/2
X-Powered-By: PHP/5.2.4-2ubuntu5.10
Connection: close
Content-Type: text/html

<html><head><title>Metasploitable2 - Linux</title></head><body>
<pre>

                _                  _       _ _        _     _      ____  
 _ __ ___   ___| |_ __ _ ___ _ __ | | ___ (_) |_ __ _| |__ | | ___|___ \ 
| '_ ` _ \ / _ \ __/ _` / __| '_ \| |/ _ \| | __/ _` | '_ \| |/ _ \ __) |
| | | | | |  __/ || (_| \__ \ |_) | | (_) | | || (_| | |_) | |  __// __/ 
|_| |_| |_|\___|\__\__,_|___/ .__/|_|\___/|_|\__\__,_|_.__/|_|\___|_____|
                            |_|                                          


Warning: Never expose this VM to an untrusted network!

Contact: msfdev[at]metasploit.com

Login with msfadmin/msfadmin to get started


</pre>
<ul>
<li><a href="/twiki/">TWiki</a></li>
<li><a href="/phpMyAdmin/">phpMyAdmin</a></li>
<li><a href="/mutillidae/">Mutillidae</a></li>
<li><a href="/dvwa/">DVWA</a></li>
<li><a href="/dav/">WebDAV</a></li>
</ul>
</body>
</html>

Connection closed by foreign host.

```

**Interpretation:**

* `Server:` Header zeigt **Apache/2.2.8 (Ubuntu)** → Webserver: Apache, Version 2.2.8.
* `GET / HTTP/1.0` ist ein einfacher, kompatibler Request; manche Server geben mehr oder weniger Header zurück, je nach Konfiguration.

### b) Mit nc (netcat) — hier-doc Methode

**Befehl:**

```sh
nc 192.168.5.51 80 <<EOF
GET / HTTP/1.0
Host: 192.168.5.51

EOF
```

**Ausgabe:**

```sh
──(kali㉿kali)-[~]
└─$ nc 192.168.5.51 80 <<EOF
GET / HTTP/1.0
Host: 192.168.5.51

EOF
HTTP/1.1 200 OK
Date: Mon, 03 Nov 2025 11:40:31 GMT
Server: Apache/2.2.8 (Ubuntu) DAV/2
X-Powered-By: PHP/5.2.4-2ubuntu5.10
Connection: close
Content-Type: text/html

<html><head><title>Metasploitable2 - Linux</title></head><body>
<pre>

                _                  _       _ _        _     _      ____  
 _ __ ___   ___| |_ __ _ ___ _ __ | | ___ (_) |_ __ _| |__ | | ___|___ \ 
| '_ ` _ \ / _ \ __/ _` / __| '_ \| |/ _ \| | __/ _` | '_ \| |/ _ \ __) |
| | | | | |  __/ || (_| \__ \ |_) | | (_) | | || (_| | |_) | |  __// __/ 
|_| |_| |_|\___|\__\__,_|___/ .__/|_|\___/|_|\__\__,_|_.__/|_|\___|_____|
                            |_|                                          


Warning: Never expose this VM to an untrusted network!

Contact: msfdev[at]metasploit.com

Login with msfadmin/msfadmin to get started


</pre>
<ul>
<li><a href="/twiki/">TWiki</a></li>
<li><a href="/phpMyAdmin/">phpMyAdmin</a></li>
<li><a href="/mutillidae/">Mutillidae</a></li>
<li><a href="/dvwa/">DVWA</a></li>
<li><a href="/dav/">WebDAV</a></li>
</ul>
</body>
</html>


```



### c) Mit curl

**Befehl (nur Header):**

```sh
curl -I 192.168.5.51
```

**Ausgabe:**

```sh
┌──(kali㉿kali)-[~]
└─$ curl -I 192.168.5.51
HTTP/1.1 200 OK
Date: Mon, 03 Nov 2025 11:41:40 GMT
Server: Apache/2.2.8 (Ubuntu) DAV/2
X-Powered-By: PHP/5.2.4-2ubuntu5.10
Content-Type: text/html

```


**Fazit Webserver:**
Mit den drei Tools konnte der `Server:`-Header abgefragt werden. In meinem Beispiel: **Apache/2.2.8 (Ubuntu)**
---

# Übung (netcat port scan)

## Aufgabenstellung
Ermittle mit Hilfe von netcat welche Ports zwischen 1 und 30 in der Metasploitable VM geöffnet sind – Hinweis: dies geht in einer einzigen Kommandozeile. Recherchiere welche Dienste sich dort befinden.

Randnotitz: netcat wird auch gerne als das swiss army knife of network tools bezeichnet.

Command: 
```sh 
nc -zv -n -w 1 192.168.5.51 1-30
```
Erklärung der Optionen:

- z : Portscanning-Modus (keine Daten gesendet)

- v : verbose — zeigt an welche Ports offen/geschlossen sind

- n : keine DNS-Auflösung (IP-Adressen bleiben IPs)

- w 1 : Timeout 1 Sekunde pro Verbindung

- 192.168.5.51 : Ziel-IP (Metasploitable)

- 1-30 : Portbereich

Ausgabe: 
```sh
┌──(kali㉿kali)-[~]
└─$ nc -zv -n -w 1 192.168.5.51 1-30
(UNKNOWN) [192.168.5.51] 25 (smtp) open
(UNKNOWN) [192.168.5.51] 23 (telnet) open
(UNKNOWN) [192.168.5.51] 22 (ssh) open
(UNKNOWN) [192.168.5.51] 21 (ftp) open
```

